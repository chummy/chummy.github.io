<!DOCTYPE html>
<!-- saved from url=(0080)../assets/AzureBlue/selfAsserted.cshtml -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>Sign up</title>

    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <link href="https://ajax.aspnetcdn.com/ajax/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet" type="text/css" />

    <link href="https://chummy.github.io/ocean_blue/css/assets.css" rel="stylesheet" type="text/css" />
    <link href="https://chummy.github.io/ocean_blue/css/common.css" rel="stylesheet" type="text/css" />
    <link href="https://chummy.github.io/ocean_blue/css/selfasserted.css" rel="stylesheet" type="text/css" />
    <script type="module" src='https://cdn.jsdelivr.net/npm/simple-selfie'></script>
    <script type="module" src='https://chummy.github.io/dist/selfieCapture.js'></script>
    <link rel='stylesheet' href='https://chummy.github.io/dist/style.css'>
</head>
<style>
    .onfido-sdk-ui-Modal-inner{
        max-width: 24em;
    }
    #fidoToken{
        display: none;
    }
    #onfido-mount{
        padding-top: 1em;
    }
</style>
<body>
    <div class="container  self_asserted_container ">
        <div class="row">
            <div class="col-lg-6">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <img alt="Company Logo" class="companyLogo" src="https://chummy.github.io/assets/images/contoso.png">
                        <div class="selfie-container">
                            <div class="selfie-overlay"></div>
                            <div class="face-position__direction_top"></div>
                            <div class="face-position__direction_left"></div>
                            <div class="face-position__direction_bottom"></div>
                            <div class="face-position__direction_right"></div>
                        </div>
                        <div id="user-wait-message">Loading</div>
                        <div id="api">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


</body>

<script>
    $(function(){
        $('#continue').hide();
        LoadOnFido();
    });

    function LoadOnFido(){
        
        if(typeof Onfido !="undefined")
        {
            debugger;
            $("#user-wait-message").hide();
            Onfido.init({
                // the JWT token that you generated earlier on
                token: $('#fidoToken').text(),
                //token:'',
                // id of the element you want to mount the component on
                containerId: 'onfido-mount',
                smsNumberCountryCode: 'US',
                steps: [
                {
                    type: 'welcome',
                    options: {
                        title: 'Document Verification',
                        descriptions:[
                            'To comply with KYC requirements, please furnish a proof of your identity.',
                            'This will only take a few minutes.'
                            ]
                    }
                },
                'document',
                'face'
                ],
                onComplete: function(data) {
                    console.log("everything is complete")
                    $('#continue').click();
                    // `data` will be an object that looks something like this:
                    //
                    // {
                    //   "document_front": {
                    //     "id": "5c7b8461-0e31-4161-9b21-34b1d35dde61",
                    //     "type": "passport",
                    //     "side": "front"
                    //   },
                    //   "face": {
                    //     "id": "0af77131-fd71-4221-a7c1-781f22aacd01",
                    //     "variant": "standard"
                    //   }
                    // }
                    //
                    // For two-sided documents like `driving_licence` and `national_identity_card`, the object will also
                    // contain a `document_back` property representing the reverse side:
                    //
                    // {
                    //   ...
                    //   "document_back": {
                    //     "id": "6f63bfff-066e-4152-8024-3427c5fbf45d",
                    //     "type": "driving_licence",
                    //     "side": "back"
                    // }
                    //
                    // You can now trigger your backend to start a new check
                    // `data.face.variant` will return the variant used for the face step
                    // this can be used to perform a facial similarity check on the applicant
                }

            });
        }

        else{
            setTimeout(function () {
                    $('#user-wait-message').text($('#user-wait-message').text()+'.');
                    LoadOnFido();
                },1000);
        }
        
    }

    
</script>

</html>